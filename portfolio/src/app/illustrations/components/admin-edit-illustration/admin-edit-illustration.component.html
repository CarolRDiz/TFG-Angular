<app-loader *ngIf="loading" [message]="'Guardando la ilustración'"></app-loader>
<main class="content">
    <div class="create-illustration">
        <div class="content__top">
            <div class="top-header__title">
                <h1>Editar ilustración</h1>
            </div>
            <div class="top-header__options">
                <!-- <button mat-icon-button aria-label="Example icon-button with a menu">
                    <mat-icon>content_copy</mat-icon>
                </button> -->
                <button (click)="save()" class="button button--white" aria-label="Example icon-button with a menu">
                    Guardar
                </button>
            </div>
        </div>
        <div class="create-illustration__content">
            <form id="form" [formGroup]="editForm" (submit)="submitEditForm()" class="form">
                <!--IMAGE-->
                <div class="form__row">
                    <fieldset formGroupName="images" class="form__group">
                        <legend class="form__legend">Imagen</legend>
                        <!--SELECTED IMAGE-->
                        <div *ngIf="this.fileUrl else elseBlock">
                            <app-selected-image [fileUrl]="this.fileUrl"
                                (deleteImageEvent)="deleteImage()"></app-selected-image>

                            <!-- <div class="selected-image">
                            <img class="selected-image__image" [src]="this.fileUrl" alt="">
                            <div class="selected-image__buttons">
                                <button type="button" mat-icon-button aria-label="Example icon-button with a menu">
                                    <mat-icon>open_in_full</mat-icon>
                                </button>
                                <button type="button" mat-icon-button aria-label="Example icon-button with a menu"
                                    (click)="deleteImage()" type="button">
                                    <mat-icon class="icon--red">delete</mat-icon>
                                </button>
                            </div>
                        </div> -->
                        </div>
                        <!--ADD IMAGE-->
                        <ng-template #elseBlock>
                            <app-add-image [parentForm]="images" [maxFiles]="1"></app-add-image>
                        </ng-template>
                    </fieldset>
                </div>


                <!--DETAILS-->
                <div class="form__row">
                    <fieldset formGroupName="details" class="form__group">
                        <legend class="form__legend">Detalles</legend>
                        <!--NAME-->
                        <app-input formControlName="name" [label]="'Nombre de la ilustración'"
                            [placeholder]="'Sonic Fanart'" [required]="false"></app-input>
                        <!-- <div class="form__field">
                        <label class="label" for="name">Nombre de la ilustración </label>
                        <div class="refillable-field">
                            <div class="refillable-field__content">
                                <input formControlName="name" id="name" type="text" class="refillable-field__input"
                                    placeholder="Buscar por productos, categorías, etiquetas">
                            </div>
                        </div>
                    </div> -->
                        <!--DESCRIPTION-->
                        <app-input formControlName="description" [label]="'Descripción'"
                        [textarea]="true" [placeholder]="'Describe tu ilustración'" [required]="false"></app-input>
                        <!-- <div class="form__field">
                        <label class="label" for="description">Descripción</label>
                        <div class="refillable-field">
                            <div class="refillable-field__content">
                                <textarea id="description" formControlName="description" class="refillable-field__input"
                                    placeholder="Describe tu ilustración"> </textarea>
                            </div>
                        </div>
                    </div> -->
                        <!--VISIBILITY-->
                        <!-- <div class="form__field">
                            <label class="label label--small">Visibilidad </label>
                            <div class="field__content field__content--button">
                                <span>{{editForm.value.details.visibility ? 'Público' : 'Oculto'}}</span>
                                <mat-slide-toggle [aria-label]="'isPublic'"
                                    formControlName="visibility"></mat-slide-toggle>
                            </div>
                        </div> -->
                        <app-toggle-input formControlName="visibility" [label]="'Visibilidad'" [ifTrue]="'Público'" [ifFalse]="'Oculto'"></app-toggle-input>
                    </fieldset>
                </div>

            </form>
        </div>
    </div>

</main>